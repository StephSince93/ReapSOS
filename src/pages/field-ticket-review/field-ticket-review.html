<ion-header>
  <ion-navbar center>
    <ion-title>REVIEW</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>
  <ion-label>FIELD TICKET SUMMARY</ion-label>
          <ion-grid class="formDetails" *ngFor="let details of formDetails">
                <ion-row>
                  <ion-col>DATE:</ion-col>
                  <ion-col>{{details?.currentDate}}</ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>JOB:</ion-col>
                  <ion-col>{{details.Job?.JobName}}</ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>PHASE CODE:</ion-col>
                  <ion-col>{{details.PhaseCode?.Description}}</ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>START TIME:</ion-col>
                  <ion-col>{{details?.startTime}}</ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>END TIME:</ion-col>
                  <ion-col>{{details?.endTime }}</ion-col>
                  <!-- <ng-template  #noTime><ion-col>End Time Will be recorded once form is submitted!</ion-col></ng-template> -->
                </ion-row>
                <ion-row>
                  <ion-col>CLIENT PM:</ion-col>
                  <ion-col>{{details?.PhaseCode?.Client_PM}}</ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>WORK DESCRIPTION:</ion-col>
                  <ion-col>{{details?.description}}</ion-col>
                </ion-row>
              </ion-grid>
               <ion-grid>
                 <ion-row>
                  <ion-col>
                     <button type="button" ion-button full name="editForm" (click)="editForm()">EDIT WORK ORDER</button>
                  </ion-col>
                </ion-row>
              </ion-grid>
      <br>
      <br>
   <div *ngIf="isCrewEquipment">
      <hr>
    <ion-label>EQUIPMENT SUMMARY</ion-label>
      <hr>
      <ion-label class="subLabel">EXISTING EQUIPMENT(CREW)</ion-label>
                  <ion-grid class="formDetails" *ngFor="let equipment of crewEquipment;index as i;">
                      <ion-row>
                          <ion-col>EQUIPMENT:</ion-col>
                          <ion-col>{{equipment.Name}}</ion-col>
                      </ion-row>
                      <ion-row>
                          <ion-col col-6>HOURS:</ion-col>
                          <ion-col col-6 class="formCol">{{equipment?.Hours}}</ion-col>
                      </ion-row>
                  </ion-grid>
  </div>
  <div *ngIf="isAddedEquipment">
    <hr>
    <ion-label class="subLabel">ADDED EQUIPMENT</ion-label>
                  <ion-grid class="formDetails" *ngFor="let equipment of equipmentDetails;index as i;">
                      <ion-row>
                        <ion-col col-6>EQUIPMENT:</ion-col>
                        <ion-col col-6 class="formCol">{{equipment?.Name}}</ion-col>
                      </ion-row>
                      <ion-row>
                        <ion-col col-6>HOURS:</ion-col>
                        <ion-col col-6 class="formCol">{{equipment?.Hours}}</ion-col>
                      </ion-row>
                      <ion-row>
                        <ion-col col-12 style="text-align:center"> <button type="button" (tap)="removeEquipment(i)"ion-button class="trashButton"><ion-icon name="trash" ios="ios-trash" md="md-trash"></ion-icon></button></ion-col>
                      </ion-row>
                  </ion-grid>
  </div>
  <div *ngIf="isCrewLabor">
    <ion-label>LABOR SUMMARY</ion-label>
    <hr>
    <ion-label class="subLabel">EXISTING PERSONNEL(CREW)</ion-label>
                  <ion-grid class="formDetails" *ngFor="let personnel of crewPersonnel;index as i;">
                        <ion-row>
                            <ion-col col-6>PERSONNEL:</ion-col>
                            <!-- <ion-col col-6>{{labor.Personnel?.FullName | uppercase}}</ion-col> -->
                            <ion-col col-6>{{personnel?.Name}}</ion-col>
                        </ion-row>
                        <ion-row>
                            <ion-col>HOURS:</ion-col>
                            <ion-col class="formCol">{{personnel?.Hours}}</ion-col>
                        </ion-row>
                        <ion-row>
                            <ion-col>TITLE:</ion-col>
                            <ion-col>{{personnel?.Title}}</ion-col>
                        </ion-row>
                 </ion-grid>
   <hr>
</div>
<div *ngIf="isMisc">
    <ion-label>MISC. SUMMARY</ion-label>
    <hr>
            <ion-grid class="formDetails" *ngFor="let misc of miscDetails;index as i;">
                <ion-row>
                  <ion-col col-6>DESCRIPTION:</ion-col>
                  <ion-col col-6>{{misc.description | uppercase}}</ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>QUANTITY:</ion-col>
                  <ion-col>{{misc.quantity | uppercase}}</ion-col>
                </ion-row>
                <ion-row>
                  <ion-col col-12 style="text-align:center"> <button type="button" (tap)="removeMisc(i)"ion-button class="trashButton"><ion-icon name="trash" ios="ios-trash" md="md-trash"></ion-icon></button></ion-col>
                </ion-row>
            </ion-grid>
</div>
<div *ngIf="isPhoto">
  <ion-label>PHOTOS</ion-label>
  <hr>
  <ion-grid class="formDetails" *ngFor="let photo of photoDetails;index as i;">
                <ion-row>
                  <ion-col col-12 style="text-align:center"> <button type="button" (tap)="removePhoto(i)"ion-button class="trashButton"><ion-icon name="trash" ios="ios-trash" md="md-trash"></ion-icon></button></ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-12 style="text-align:center"><img src="{{photo}}" alt="Upload Error"/></ion-col>
                </ion-row>
              </ion-grid>
  <hr>
  <br>
  <br>
  </div>
  <ion-label color="primary" stacked>SIGNATURE</ion-label>
  <div class="box">
    <signature-pad
      name="Signature"
      id="signaturecanvas"></signature-pad>
    <ion-grid>
      <ion-row>
        <ion-col col-12>
          <button type="button" ion-button full style="background-color:teal" (click)="sigClear()" large>CLEAR</button>
        </ion-col>
        <ion-col col-12>
          <button type="button" ion-button full  (click)="sigBack()" large>CANCEL</button>
        </ion-col>
        <ion-col col-12>
          <button type="submit" ion-button full id="submitButton" [disabled]='submitClicked===true'(click)="sigSubmit()" large>SUBMIT</button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
